<div id="map"></div>

<script>
  const map = L.map('map').setView([54, -6.4], 2);
  
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: 'Â© OpenStreetMap'
  }).addTo(map);
  
  {{#each stations}}
  
  var marker = L.marker([{{latitude}}, {{longitude}}]).addTo(map);
  marker.bindPopup("<b>{{location}}</b><br><a href=\"/station/{{_id}}\">Open station</a>"); //.openPopup();
  
  {{/each}}
  
  function onMapClick(e) {
    alert(`This location has the following coordinates: ${e.latlng.toString()}`);
  }
  map.on('click', onMapClick);

</script>